<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>TweetyLang Specification</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">TweetyLang Specification</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="1-introduction"><a class="header" href="#1-introduction">1. Introduction</a></h1>
<p>TweetyLang is a object-oriented systems programming language that combines the control, performance, and portability of low-level languages with the developer experience of high-level languages.</p>
<p>TweetyLang development is driven by it's <a href="./core-concepts.html">Core Concepts &amp; Goals</a>.</p>
<h3 id="the-specification"><a class="header" href="#the-specification">The Specification</a></h3>
<p>This specification outlines the implementation of the language as of version 0 (v0). Unless otherwise stated, all references expressed in the present tense pertain specifically to this version. In this context, the term 'up to date' should be interpreted as current of the official v0 release.</p>
<p>This release landmark is determined by the TweetyLang committee, which is also responsible for authoring this version of the specification and for its ongoing updates.</p>
<h3 id="suggesting-ideas--changes"><a class="header" href="#suggesting-ideas--changes">Suggesting Ideas &amp; Changes</a></h3>
<p>TweetyLang is built for developers and feedback is highly valuable. Whether you're reading a printed or online version of this specification, readers are encouraged to visit the TweetyLang Spec repository to open issues, suggest language improvements, propose changes, or discuss ideas.</p>
<p><em>TweetyLang is pronounced as 'TWEET-ee-lang' (/ˈtwiːti læŋ/).</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="11-core-concepts-and-goals"><a class="header" href="#11-core-concepts-and-goals">1.1 Core Concepts and Goals</a></h1>
<p>TweetyLang is built around several fundamental principles and objectives:</p>
<ol>
<li><strong>Developer Experience</strong></li>
</ol>
<p>TweetyLang heavily emphasises a strong developer experience. The language and its relative implementation/toolchain should be intuitive, as frictionless as possible, and predictable.</p>
<ol start="2">
<li><strong>Portability</strong></li>
</ol>
<p>TweetyLang is designed to run across platforms and environments. Its architecture should enable code that can be deployed without relying on a runtime environment, external dependencies, or Just-In-Time compilation.</p>
<ol start="3">
<li><strong>Memory Safety</strong></li>
</ol>
<p>The language provides language-integrated options for writing memory safe code whilst still exposing 'legacy' memory models (i.e., raw pointers) to interop with non-memory safe code.</p>
<ol start="4">
<li><strong>Language Interoperability</strong></li>
</ol>
<p>The language should provide capability to integrate with assemblies produced by other languages, offering first class support for native assemblies.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="12-glossary"><a class="header" href="#12-glossary">1.2. Glossary</a></h1>
<p>This specification uses the following term definitions throughout it's contents.</p>
<ul>
<li><strong>Assembly</strong> - Output of program compilation.</li>
<li><strong>Entry Point</strong> - Function where program execution begins.</li>
<li><strong>Application/Executable</strong> - Executable assembly with an entry point.</li>
<li><strong>Source Code</strong> - Human-readable program written in TweetyLang.</li>
<li><strong>Compiler</strong> - Application that translates source code into an assembly.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="2-grammar"><a class="header" href="#2-grammar">2. Grammar</a></h1>
<p>This is the complete, up-to-date TweetyLang grammar in <a href="https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form">EBNF</a> format. Upon merging updates into this grammar, the changes are propagated to the <a href="https://www.antlr.org/">ANTLR</a> version, which is used directly by <code>TweetyLang.Parser</code>. As such, this document serves as the single source of truth for the TweetyLang grammar.</p>
<p>If you notice differences between this document and the ANTLR grammar, please open an Issue or Pull Request to correct them. For issues in the EBNF grammar, open an issue in the specification repository. For issues in the ANTLR grammar, open an issue in the TweetyLang repository.</p>
<pre><code class="language-EBNF">(* EBNF (Extended Backus–Naur Form) Grammar definitions for TweetyLang *)

(* GRAMMAR START *)
(* ---------------- *)

program = { top_level_declaration } ;

top_level_declaration = module_definition 
                      | import_statement ;

(* Modules *)
(* ---------------- *)
module_definition = "module", module_name, module_block ;
module_name = identifier , { "::", identifier } ;
module_block      = "{" , { definition } , "}" ; (* Allowed items inside of a module *)

import_statement = "import", module_name, ";" ;

(* Identifiers *)
(* ---------------- *)
identifier = character , { character | digit | "_" } ;

(* Structs *)
(* ---------------- *)
struct_definition = { modifier } , "struct" , identifier , object_block ;

object_block = "{" , { function_definition | field_declaration } , "}" ; (* Allowed items inside of an object definition (struct, class, etc) *)

(* Functions *)
(* ---------------- *)
function_definition = { modifier } , ( type | "void" ) , identifier , "(" , [ parameters ] , ")" , ( statement_block | ";" ) ;

function_call = identifier , "(", [ arguments ] , ")" ;
arguments = expression , { "," , expression } ;

definition = struct_definition
           | function_definition ;

(* Fields *)
(* ---------------- *)
field_declaration = type , identifier , [ "=" , expression ] , ";" ;

(* Statements *)
(* ---------------- *)
statement_block = "{" , { statement | compound_statement } , "}" ;

statement = raw_statement , ";" ;
raw_statement = return_statement
          | assignment
          | declaration
          | expression_statement ;

(* A Compound Statement is a statement that includes other statements, i.e., an if statement *)
compound_statement = if_statement ;

assignment = identifier , "=" , expression ;
declaration = type , whitespace , identifier , "=" , expression ;
return_statement = "return" , [ expression ] ;
expression_statement = expression ; (* Allow function calls, object instantiation, etc *)

(* If Statement *)
(* ---------------- *)
if_statement = "if" , "(" , expression , ")" , statement_block , [ else_block ] ;
else_block = "else" , statement_block ;

(* Expressions *)
(* ---------------- *)
expression = term , { ("+" | "-") , term } ;
term = factor , { ("*" | "/") , factor } ;

factor = member_access | primary ;
primary = number
        | boolean_literal
        | char_literal
        | string_literal
        | object_instantiation
        | function_call
        | identifier
        | "(" , expression , ")" ;

member_access = primary , { ".", identifier, [ "(", [ arguments ], ")" ] } ;
boolean_literal = "true" | "false" ;
object_instantiation = "new" , identifier , "(", [ arguments ] , ")" ;

(* Types *)
(* ---------------- *)

(* Parameters are formatted as: type id, type id, type id etc *)
parameters = parameter , { "," , parameter } ;
parameter = type , identifier ;
type = raw_type , pointer_suffix ;
pointer_suffix = { "*" } ;

raw_type = "i32"
         | "bool"
         | "char"
         | identifier ;

(* Common *)
(* ---------------- *)
modifier = "export"
         | "extern" ;

string_literal = "\"", { character | escape_sequence }, "\"" ; (* IMPORTANT: In actual implementation, string literals can have any printable character *)
char_literal = "'" , ( character | escape_sequence ), "'" ; (* IMPORTANT: In actual implementation, char literals can have any printable character *)

escape_sequence = "\\" , ( "n" | "t" | "r" | "\"" | "'" | "\\" ) ;

whitespace = " " | "\t" | "\n" | "\r" ;

character = "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J" | "K" | "L"
       | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X"
       | "Y" | "Z"
       | "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j" | "k" | "l"
       | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x"
       | "y" | "z" ;


number = digit , { digit } ;

digit  = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="3-modules"><a class="header" href="#3-modules">3. Modules</a></h1>
<p>Modules are top-level containers for code. Each module serves as a compilation unit, housing functions, types, structs, and other definitions. Every module is given a program-unique name which is used for referencing it. A single source file may contain any number of modules.</p>
<p>Modules are used primarily for code organisation. Functionally, modules act as TweetyLang's analog to namespaces; however, modules need to be explicitly imported.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="31-module-declaration"><a class="header" href="#31-module-declaration">3.1 Module Declaration</a></h1>
<p>A Module declaration consists of the <code>module</code> keyword followed by the module's identifier and then it's body. Module declarations do not support applying any modifiers.</p>
<pre><code class="language-tweety">module MyModule 
{
    // Module contents
}
</code></pre>
<p>A new module declaration can only occur at the top level of a source file. It's identifier must be unique within the program and cannot collide with the identifier of any existing module declaration.</p>
<p>Module identifiers may include <code>::</code> for organisation.</p>
<h3 id="exported-definitions"><a class="header" href="#exported-definitions">Exported Definitions</a></h3>
<p>By default, definitions within a module are private and can only be accessed inside the module where they are declared. To make a definition available to other modules when the module is imported, it must be marked with the <code>export</code> keyword:</p>
<pre><code class="language-tweety">module MyModule
{
    // This function can only be calling from within this module
    i32 PrivateNumFunc()
    {
        return 16;
    }

    // This function can be called from another module
    export i32 NumFunc()
    {
        return PrivateNumFunc();
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="32-import-statements"><a class="header" href="#32-import-statements">3.2 Import Statements</a></h1>
<p>Import statements allow the use of module's contents within another module. An import statement consists of the <code>import</code> keyword followed by the identifier of the module being imported and a semicolon.</p>
<pre><code class="language-tweety">import MyModule;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="4-functions"><a class="header" href="#4-functions">4. Functions</a></h1>
<p>Functions are a block of reusable code that accept input parameters (arguments) and produce an output value (return value). Functions can also include modifier keywords that alter or extend their behaviour.</p>
<h3 id="invoking-functions"><a class="header" href="#invoking-functions">Invoking Functions</a></h3>
<p>Functions can be static or instance-based. Static functions can be invoked directly without reference to an object:</p>
<pre><code class="language-tweety">Add(1, 3);
</code></pre>
<p>Instance-based functions require an instance of the owning type to be invoked:</p>
<pre><code class="language-tweety">Maths maths = new Maths();
maths.Add(1, 3);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="41-function-declaration"><a class="header" href="#41-function-declaration">4.1 Function Declaration</a></h1>
<p>A Function declaration consists of optional modifier keywords, a specified return type, a unique function name, a parameter list enclosed in parantheses, and a function body defining it's behaviour.</p>
<pre><code class="language-tweety">i32 Add(i32 a, i32 b) 
{
    return a + b;
}
</code></pre>
<p>By default, functions defined at the module level are static, whereas functions defined within a type are instance-based. Type-enclosed functions can be explicitly declared static by applying the <code>static</code> modifier.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="5-structs"><a class="header" href="#5-structs">5. Structs</a></h1>
<p>Structs are user-defined types for grouping related variables into a single entity. They allow organization of data logically under one name. Structs can also define instance methods, enabling encapsulation of both data and behavior within the same construct.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="51-struct-declaration"><a class="header" href="#51-struct-declaration">5.1 Struct Declaration</a></h1>
<p>A Struct declaration consists of optional modifier keywords, followed by the <code>struct</code> keyword, it's identifier and then its body.</p>
<pre><code class="language-tweety">export struct MyStruct 
{
    // Struct Body
}
</code></pre>
<p>A Struct body can consist of <a href="code/functions.html">functions</a>, <a href="code/fields.html">fields</a> and <a href="code/properties.html">properties</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="6-fields"><a class="header" href="#6-fields">6. Fields</a></h1>
<p>Fields are named variables declared inside a type body (such as a struct or class) that store data specific to instances of that type.</p>
<p>Fields declarations consist of optional modifier keywords, it's type, a unique name and optionally an assignment.</p>
<pre><code class="language-tweety">public i32 MyNumber = 16;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="7-properties"><a class="header" href="#7-properties">7. Properties</a></h1>
<p>Properties are encapsulated <a href="code/fields.html">fields</a> that allow functions to be ran when their value is read (getter) or modified (setter).</p>
<p>Property declarations consist of optional modifier keywords, it's type, a unique name, getters and setter definitions, and optionally an assignment.</p>
<p><strong>Both of these examples are valid properties:</strong></p>
<pre><code class="language-tweety">public i32 MyNumber { get; set; } = 16;
</code></pre>
<pre><code class="language-tweety">public i32 MyNumber 
{
    // Type.MyNumber will return MyNumber's current value + 10.
    get 
    {  
        return value + 10;
    }

    // Type.MyNumber = 10 will print some text and then update MyNumber's current value.
    set 
    {
        printf("Set MyNumber.");
        field = value;
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="8-type-access-operators"><a class="header" href="#8-type-access-operators">8. Type Access Operators</a></h1>
<p>Different operators are used to access members of a type depending on whether the member is static, instance-based, or accessed through a pointer. These are referred to as "Type Access Operators".</p>
<p><strong>Static Access</strong></p>
<p>The <code>::</code> operator is used on a type to access its static members.</p>
<pre><code class="language-tweety">Type::StaticMethod();
</code></pre>
<p><strong>Instance Access</strong></p>
<p>The <code>.</code> operator is used on an instance of a type to access its instance members.</p>
<pre><code class="language-tweety">Type myInstance = new Type();
myInstace.InstanceMethod();
</code></pre>
<p><strong>Pointer Access</strong></p>
<p>The <code>-&gt;</code> operator is used on a pointer to an instance of a type to access its instance members.</p>
<pre><code class="language-tweety">myInstancePointer-&gt;InstanceMethod();
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
